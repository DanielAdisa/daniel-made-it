import React from 'react';
import { motion, AnimatePresence } from 'framer-motion';

interface FingerprintPromptProps {
  isOpen: boolean;
  onCancel: () => void;
  title?: string;
  message?: string;
}

const FingerprintPrompt: React.FC<FingerprintPromptProps> = ({
  isOpen,
  onCancel,
  title = 'Scan Fingerprint',
  message = 'Please scan your fingerprint to continue'
}) => {
  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"
        >
          <motion.div
            initial={{ scale: 0.9, y: 20 }}
            animate={{ scale: 1, y: 0 }}
            exit={{ scale: 0.9, y: 20 }}
            className="w-full max-w-sm p-6 mx-4 bg-white rounded-lg shadow-xl dark:bg-gray-800"
          >
            <div className="text-center">
              <div className="mb-4">
                <div className="relative w-24 h-24 mx-auto">
                  <motion.div
                    animate={{ 
                      opacity: [0.3, 0.8, 0.3],
                      scale: [0.85, 1, 0.85]
                    }}
                    transition={{ 
                      repeat: Infinity,
                      duration: 2.5
                    }}
                    className="absolute inset-0 bg-indigo-500 rounded-full opacity-30"
                  />
                  <svg className="absolute inset-0 w-24 h-24 mx-auto text-indigo-500" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 11C9 10.4477 9.44772 10 10 10C10.5523 10 11 10.4477 11 11V12C11 12.5523 10.5523 13 10 13C9.44772 13 9 12.5523 9 12V11Z" fill="currentColor" />
                    <path d="M14 11C14 10.4477 14.4477 10 15 10C15.5523 10 16 10.4477 16 11V12C16 12.5523 15.5523 13 15 13C14.4477 13 14 12.5523 14 12V11Z" fill="currentColor" />
                    <path d="M11 15C11 14.4477 11.4477 14 12 14C12.5523 14 13 14.4477 13 15V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V15Z" fill="currentColor" />
                    <path d="M7 15.9C7 14.507 7 13.811 7.1 13.225C7.3034 12.1333 7.8128 11.1228 8.5762 10.3106C9.45599 9.36366 10.6566 8.71237 12 8.468C12.524 8.35599 13.15 8.35599 14 8.35599C14.8501 8.35599 15.476 8.35599 16 8.468C16.972 8.65637 17.8742 9.10487 18.6195 9.77126C18.7336 9.8749 18.8435 9.98421 18.9487 10.1C19.9129 11.1519 20.5249 12.5248 20.6563 13.9844C20.6737 14.1378 20.6842 14.2987 20.6908 14.4858C20.6962 14.6345 20.6989 14.8046 20.7 15C20.7 15.5523 20.2523 16 19.7 16C19.1477 16 18.7 15.5523 18.7 15C18.7 14.841 18.6983 14.7145 18.6946 14.6121C18.6901 14.4887 18.6827 14.3792 18.6724 14.2856C18.5803 13.252 18.1412 12.2787 17.4227 11.5206C17.3246 11.4168 17.2215 11.3179 17.1143 11.224C16.6077 10.7741 15.9818 10.454 15.3 10.3244C14.9226 10.244 14.4685 10.242 13.8286 10.241L13.7 10.241H10.3C10.0664 10.241 9.84463 10.2413 9.63489 10.2474C9.14667 10.2622 8.77305 10.3059 8.4 10.3856C7.62382 10.5445 6.91703 10.9099 6.36232 11.435C5.7113 12.0524 5.26562 12.8603 5.12447 13.7434C5.05898 14.127 5.02052 14.6323 5.00484 15.2825C5.00027 15.5025 5 15.7417 5 16C5 16.5523 4.55228 17 4 17C3.44772 17 3 16.5523 3 16C3 15.7179 3.00032 15.4513 3.00519 15.2051C3.02228 14.4763 3.06509 13.8731 3.15316 13.3564C3.3595 12.1063 3.96913 10.9595 4.88511 10.0939C5.68273 9.33796 6.67345 8.78822 7.77 8.5C8.38313 8.34995 9.07624 8.33039 9.89882 8.31582L10 8.31398H14C14.8238 8.31398 15.517 8.31411 16.1302 8.35599C16.9659 8.41325 17.7913 8.60332 18.5555 8.9155C19.6256 9.36427 20.5704 10.0871 21.2905 11.0264C22.3455 12.4063 22.9227 14.1392 22.9637 15.9245C22.9722 16.2688 22.9767 16.6849 22.9949 17.1557L23 17.3C23 17.8523 22.5523 18.3 22 18.3C21.4477 18.3 21 17.8523 21 17.3L20.9949 17.1675C20.9776 16.7158 20.9734 16.3293 20.9657 16.0256C20.9343 14.6207 20.4977 13.2633 19.7135 12.1512C19.2718 11.5221 18.6906 11.0092 18.0177 10.6562C17.4691 10.3658 16.8708 10.1709 16.25 10.0792C15.842 10.0222 15.3175 10.0142 14.7036 10.0068C14.4673 10.0045 14.2159 10.0023 13.95 10.0004L10.05 10C9.78413 10.0023 9.53274 10.0045 9.29635 10.0068C8.68252 10.0142 8.15801 10.0222 7.75 10.0792C7.12921 10.1709 6.53085 10.3658 5.98228 10.6562C5.30941 11.0092 4.72824 11.5221 4.28647 12.1512C3.50227 13.2633 3.06569 14.6207 3.03427 16.0256C3.02659 16.3293 3.02236 16.7158 3.00509 17.1675L3 17.3C3 17.8523 2.55228 18.3 2 18.3C1.44772 18.3 1 17.8523 1 17.3C1 16.8243 1.00535 16.4051 1.01382 16.0434C1.05175 14.2208 1.6289 12.4546 2.70954 11.0264C3.42962 10.0871 4.37441 9.36427 5.44453 8.9155C6.20869 8.60332 7.03407 8.41325 7.86978 8.35599C8.48296 8.31411 9.17616 8.31398 10 8.31398L10.1012 8.31582C10.9238 8.33039 11.6169 8.34995 12.23 8.5C13.3266 8.78822 14.3173 9.33796 15.1149 10.0939C16.0309 10.9595 16.6405 12.1063 16.8468 13.3564C16.9349 13.8731 16.9777 14.4763 16.9948 15.2051C16.9997 15.4513 17 15.7179 17 16C17 16.5523 16.5523 17 16 17C15.4477 17 15 16.5523 15 16C15 15.7417 14.9997 15.5025 14.9952 15.2825C14.9795 14.6323 14.941 14.127 14.8755 13.7434C14.7344 12.8603 14.2887 12.0524 13.6377 11.435C13.083 10.9099 12.3762 10.5445 11.6 10.3856C11.2269 10.3059 10.8533 10.2622 10.3651 10.2474C10.1554 10.2413 9.93359 10.241 9.7 10.241L6.3 10.241L6.17145 10.241C5.53153 10.242 5.07745 10.244 4.7 10.3244C4.01817 10.454 3.3923 10.7741 2.88567 11.224C2.77854 11.3179 2.67542 11.4168 2.57725 11.5206C1.85879 12.2787 1.41967 13.252 1.32759 14.2856C1.31725 14.3792 1.30991 14.4887 1.30539 14.6121C1.30169 14.7145 1.3 14.841 1.3 15C1.3 15.5523 0.852285 16 0.3 16C-0.252285 16 -0.7 15.5523 -0.7 15C-0.7 14.8046 -0.696154 14.6345 -0.690733 14.4858C-0.684249 14.2987 -0.67365 14.1378 -0.656289 13.9844C-0.524925 12.5248 0.0871482 11.1519 1.05127 10.1C1.15654 9.98421 1.26642 9.8749 1.38046 9.77126C2.12577 9.10487 3.02797 8.65637 4 8.468C4.52397 8.35599 5.1499 8.35599 6 8.35599C6.85005 8.35599 7.47602 8.35599 8 8.468C9.34345 8.71237 10.544 9.36366 11.4238 10.3106C12.1872 11.1228 12.6966 12.1333 12.9 13.225C13 13.811 13 14.507 13 15.9V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V15.9C11 14.5898 11 14.0293 10.929 13.5878C10.7899 12.8292 10.4262 12.1295 9.88976 11.5594C9.25063 10.8809 8.40545 10.4009 7.47715 10.223C7.07341 10.1393 6.57035 10.115 5.87121 10.104L5.7 10.101H6C6 10.101 5.95363 10.1016 5.86248 10.1051C5.25251 10.1256 4.97851 10.1696 4.75471 10.2295C4.32585 10.3456 3.93431 10.5665 3.62436 10.8729C3.22975 11.2627 2.94284 11.7898 2.81138 12.3719C2.70335 12.846 2.70335 13.4196 2.70335 14.5668V15C2.70335 15.5523 2.25563 16 1.70335 16C1.15106 16 0.703346 15.5523 0.703346 15V14.5C0.703346 13.3674 0.692642 12.6411 0.845202 11.9646C1.04227 11.0614 1.48797 10.2238 2.12132 9.59645C2.61142 9.1108 3.21071 8.7483 3.86325 8.54508C4.35901 8.39542 4.90937 8.34817 5.70335 8.31688C5.79486 8.31276 5.89214 8.30903 5.99609 8.30562M7 16V16C7 17.1046 6.10457 18 5 18C3.89543 18 3 17.1046 3 16V14.5668C3 13.4372 3 12.8723 3.1267 12.4242C3.32885 11.7465 3.7826 11.1805 4.38885 10.8492C4.85562 10.6078 5.44083 10.5451 6.61122 10.5196C7.60281 10.4981 8.09861 10.4873 8.53638 10.5585C9.5804 10.7277 10.5071 11.2548 11.1567 12.0443C11.6201 12.5982 11.8529 13.2948 11.9564 14.4532C11.985 14.7834 12 15.1469 12 16C12 17.1046 11.1046 18 10 18C8.89543 18 8 17.1046 8 16C8 15.2099 8.00029 14.8633 7.98325 14.6084C7.96067 14.2624 7.90877 14.0813 7.82713 13.9409C7.60366 13.5373 7.22792 13.2332 6.78255 13.0893C6.62082 13.0379 6.41315 13.0159 6 13V13C5.44772 13 5 13.4477 5 14C5 14.5523 5.44772 15 6 15C6.55228 15 7 15.4477 7 16Z" fill="currentColor" />
                  </svg>
                </div>
              </div>
              <h3 className="mb-2 text-lg font-semibold text-gray-800 dark:text-gray-200">{title}</h3>
              <p className="mb-6 text-sm text-gray-600 dark:text-gray-400">{message}</p>
              
              <div className="flex gap-4 mx-auto mt-4 text-center">
                <button
                  className="w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                  onClick={onCancel}
                >
                  Use ID Instead
                </button>
              </div>
            </div>
          </motion.div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export default FingerprintPrompt;
